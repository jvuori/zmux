# ============================================================================
# Session Management Configuration
# ============================================================================

# Session naming
set -g default-command "${SHELL}"

# Automatically rename windows based on running program
setw -g automatic-rename on
set -g renumber-windows on

# Session persistence (works with tmux-resurrect plugin)
# Sessions are automatically saved and restored

# Zellij-like session behavior
# Keep sessions alive even when no clients attached
set -g detach-on-destroy off
set -g destroy-unattached off

# Create a default named session for consistency
# Users can override this by creating their own sessions

# ============================================================================
# Session Creation
# ============================================================================

# Create new session with name
bind C-c new-session -d

# ============================================================================
# Session Navigation
# ============================================================================

# Switch to previous/next session
bind ( switch-client -p
bind ) switch-client -n

# List sessions (interactive)
bind C-s choose-session

# ============================================================================
# Session Attach/Detach
# ============================================================================

# Detach all other clients
bind D if-shell "$(tmux list-clients | wc -l | xargs)" \
  "detach-client -a" \
  "display-message 'Only one client attached'"

