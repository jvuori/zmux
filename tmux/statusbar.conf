# ============================================================================
# Zellij-like Status Bar Configuration
# ============================================================================

# Enable status bar
set -g status on

# Status bar position (top)
set -g status-position top

# Status bar update interval
set -g status-interval 0

# Status bar colors (Zellij-inspired dark theme)
# Background matches active pane for seamless look
set -g status-style "fg=colour244,bg=colour0"

# Status bar left side (just session name)
set -g status-left-length 50
set -g status-left "#[fg=colour51,bold] ğŸ–¥ï¸  #[fg=colour51,bold]#S"

# Status bar right side (mode help + battery + time)
# Dynamic help based on current key table, positioned on right for easier scanning
set -g status-right-length 300

# Status right with dynamic mode help based on client_key_table
# Use tmux format conditionals to show mode-specific help
# Different battery display for WSL vs Linux with battery plugin
if-shell '[ -n "$(grep -i microsoft /proc/version 2>/dev/null || true)" ]' \
	"set -g status-right '#{?#{==:#{client_key_table},pane},#[fg=colour244][#[fg=colour81]n#[default]: new #[fg=colour244]| #[fg=colour81]x#[default]: kill #[fg=colour244]| #[fg=colour81]â†â†‘â†“â†’#[default]: nav#[fg=colour244]],#{?#{==:#{client_key_table},tab},#[fg=colour244][#[fg=colour46]n#[default]: new #[fg=colour244]| #[fg=colour46]r#[default]: rename #[fg=colour244]| #[fg=colour46]x#[default]: kill #[fg=colour244]| #[fg=colour46]â†â†’#[default]: nav#[fg=colour244]],#{?#{==:#{client_key_table},session},#[fg=colour244][#[fg=colour51]n#[default]: new #[fg=colour244]| #[fg=colour51]r#[default]: rename #[fg=colour244]| #[fg=colour51]x#[default]: kill #[fg=colour244]| #[fg=colour51]w#[default]: switch#[fg=colour244]],#{?#{==:#{client_key_table},move},#[fg=colour244][#[fg=colour201]â†â†‘â†“â†’#[default]: move#[fg=colour244]],#{?#{==:#{client_key_table},resize},#[fg=colour244][#[fg=colour220]â†â†‘â†“â†’#[default]: resize#[fg=colour244]],#{?#{==:#{client_key_table},git},#[fg=colour244][#[fg=colour200]b#[default]:branch #[fg=colour244]| #[fg=colour200]c#[default]:commits#[fg=colour244]],#[fg=colour244]Ctrl+ [#[fg=colour51]o#[default]:#[fg=colour51]sessions#[fg=colour244] | #[fg=colour46]t#[default]:#[fg=colour46]tabs#[fg=colour244] | #[fg=colour81]p#[default]:#[fg=colour81]panes#[fg=colour244] | #[fg=colour81]h#[default]:#[fg=colour81]move#[fg=colour244] | #[fg=colour81]n#[default]:#[fg=colour81]resize#[fg=colour244] | #[fg=colour220]l#[default]:#[fg=colour220]lock#[fg=colour244] | #[fg=colour200]g#[default]:#[fg=colour200]git#[fg=colour244]]}}}}}} #{?@lock_mode,#[fg=colour208]ğŸ”’,#{prefix_highlight}}#[fg=colour244] ğŸ’¡ #[fg=colour220]Ctrl+a ? #[fg=colour244] ğŸ”‹ #(bash ~/.config/tmux/scripts/wsl-battery.sh 2>/dev/null) #[fg=colour244] â° #[fg=colour51]%H:%M #[fg=colour244] ğŸ“… #[fg=colour51]%d %b %Y'" \
	"set -g status-right '#{?#{==:#{client_key_table},pane},#[fg=colour244][#[fg=colour81]n#[default]: new #[fg=colour244]| #[fg=colour81]x#[default]: kill #[fg=colour244]| #[fg=colour81]â†â†‘â†“â†’#[default]: nav#[fg=colour244]],#{?#{==:#{client_key_table},tab},#[fg=colour244][#[fg=colour46]n#[default]: new #[fg=colour244]| #[fg=colour46]r#[default]: rename #[fg=colour244]| #[fg=colour46]x#[default]: kill #[fg=colour244]| #[fg=colour46]â†â†’#[default]: nav#[fg=colour244]],#{?#{==:#{client_key_table},session},#[fg=colour244][#[fg=colour51]n#[default]: new #[fg=colour244]| #[fg=colour51]r#[default]: rename #[fg=colour244]| #[fg=colour51]x#[default]: kill #[fg=colour244]| #[fg=colour51]w#[default]: switch#[fg=colour244]],#{?#{==:#{client_key_table},move},#[fg=colour244][#[fg=colour201]â†â†‘â†“â†’#[default]: move#[fg=colour244]],#{?#{==:#{client_key_table},resize},#[fg=colour244][#[fg=colour220]â†â†‘â†“â†’#[default]: resize#[fg=colour244]],#{?#{==:#{client_key_table},git},#[fg=colour244][#[fg=colour200]b#[default]:branch #[fg=colour244]| #[fg=colour200]c#[default]:commits#[fg=colour244]],#[fg=colour244]Ctrl+ [#[fg=colour51]o#[default]:#[fg=colour51]sessions#[fg=colour244] | #[fg=colour46]t#[default]:#[fg=colour46]tabs#[fg=colour244] | #[fg=colour81]p#[default]:#[fg=colour81]panes#[fg=colour244] | #[fg=colour81]h#[default]:#[fg=colour81]move#[fg=colour244] | #[fg=colour81]n#[default]:#[fg=colour81]resize#[fg=colour244] | #[fg=colour220]l#[default]:#[fg=colour220]lock#[fg=colour244] | #[fg=colour200]g#[default]:#[fg=colour200]git#[fg=colour244]]}}}}}} #{?@lock_mode,#[fg=colour208]ğŸ”’,#{prefix_highlight}}#[fg=colour244] ğŸ’¡ #[fg=colour220]Ctrl+a ? #[fg=colour244] ğŸ”‹ #{battery_color_charge_bg}#{battery_color_charge_fg}#{battery_graph}#[default] #{battery_icon_status} #[fg=colour51]#{battery_percentage} #[fg=colour244] â° #[fg=colour51]%H:%M #[fg=colour244] ğŸ“… #[fg=colour51]%d %b %Y'"

# Window status format (Zellij-like tabs with dividers)
# The divider is part of each tab to create a continuous look
# Inactive tabs: gray background with dark text for better contrast
# Show window index, plus window name if manually set (not blank)
# Format: "1" if no name, "1: name" if renamed
setw -g window-status-format "#[fg=colour235,bg=colour244]î‚°#[fg=colour232,bg=colour244,bold] #I#{?#{window_name},: #W,:} #[fg=colour244,bg=colour235]î‚°"
# Active tab: bright green background with black text, divider at the end
setw -g window-status-current-format "#[fg=colour235,bg=colour46]î‚°#[fg=colour0,bg=colour46,bold] #I#{?#{window_name},: #W,:} #[fg=colour46,bg=colour235]î‚°"

# Window status separator (empty, chevron is part of tab format)
setw -g window-status-separator ""

# Activity and bell notifications (these styles apply to window-status-format)
# Activity indicator will show in the window status when there's activity
setw -g window-status-activity-style "fg=colour0,bg=colour46"
# Bell indicator will show in the window status when there's a bell
setw -g window-status-bell-style "fg=colour0,bg=colour5"

# Message style
set -g message-style "fg=colour231,bg=colour238"

# Mode style (when in a mode)
setw -g mode-style "fg=colour51,bg=colour238,bold"

# Pane number display
set -g display-panes-colour colour51
set -g display-panes-active-colour colour231

# Clock mode style
setw -g clock-mode-colour colour51

# ============================================================================
# Window/Pane Background Colors
# ============================================================================
# Use terminal's color palette
# Active pane: black (terminal default background color)
# Inactive panes: darker background (dimmer gray) for visual distinction
setw -g window-style "fg=default,bg=colour234"
setw -g window-active-style "fg=default,bg=colour0"

# ============================================================================
# Optional: Minimal status bar (uncomment for ultra-minimal look)
# ============================================================================

# set -g status-left ""
# set -g status-right ""
# setw -g window-status-format "#[fg=colour244]#I"
# setw -g window-status-current-format "#[fg=colour51,bold]#I"

